Домашнее задание "написать скрипт на языке Bash"
~~~
Написать скрипт для CRON, который раз в час будет формировать письмо и отправлять на заданную почту.
Необходимая информация в письме:

Список IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
Список запрашиваемых URL (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
Ошибки веб-сервера/приложения c момента последнего запуска;
Список всех кодов HTTP ответа с указанием их кол-ва с момента последнего запуска скрипта;
Скрипт должен предотвращать одновременный запуск нескольких копий, до его завершения.
В письме должен быть прописан обрабатываемый временной диапазон.
~~~

1. Создаем файл - check.sh, который будет обрабатывать лог веб сервера - access.log , делаем его исполняемым.
2. Прописываем его в cron командой crontab -e, например запуск раз в минуту */1 * * * * /usr/bin/flock /var/tmp/check.lock /root/check.sh.
- Для предотвращения одновременного запуска нескольких копий до завершения используется программа flock.
- Если скрипт не успеет отработать в отведенное время, повторный запуск скрипта не произойдет - произойдет запуск программы flock ( она будет ждать пока что первый скрипт завершит свою работу и только после этого запустит скрипт).
3. После выполнения задания можно просмотреть содержимое отправленного письма в /var/log/root, пример содержимого письма в файле - email.txt.